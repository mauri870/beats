{{header "Filebeat global options"}}

# Registry data path. If a relative path is used, it is considered relative to the
# data path.
#filebeat.registry.path: ${path.data}/registry

# The permissions mask to apply on registry data and meta files. The default
# value is 0600.  Must be a valid Unix-style file permissions mask expressed in
# octal notation.  This option is not supported on Windows.
#filebeat.registry.file_permissions: 0600

# The timeout value that controls when registry entries are written to the disk
# (flushed). When an unwritten update exceeds this value, it triggers a write
# to disk. When flush is set to 0s, the registry is written to disk after each
# batch of events has been published successfully. The default value is 1s.
#filebeat.registry.flush: 1s

# The interval which to run the registry clean up
#filebeat.registry.cleanup_interval: 5m

# Starting with Filebeat 7.0, the registry uses a new directory format to store
# Filebeat state. After you upgrade, Filebeat will automatically migrate a 6.x
# registry file to use the new directory format. If you changed
# filebeat.registry.path while upgrading, set filebeat.registry.migrate_file to
# point to the old registry file.
#filebeat.registry.migrate_file: ${path.data}/registry

# The storage backend for the registry. Supported values are "memlog" and
# "bbolt". The default is "memlog", which uses an in-memory log with periodic
# disk flushing. The "bbolt" backend uses a bbolt (BoltDB) database for
# persistent on-disk storage with support for compaction and TTL-based cleanup.
#filebeat.registry.backend: memlog

# ----------------------- Bbolt backend settings -------------------------------
# WARNING: The bbolt backend is EXPERIMENTAL and may change or be removed in
# future releases. Do not use in production without understanding the risks.
#
# These settings apply only when filebeat.registry.backend is set to "bbolt".
# The database files are stored under the registry.path directory.
# Configuration parameter names are aligned with the OpenTelemetry
# filestorage extension for future compatibility.

# Timeout for obtaining a file lock on the bbolt database file. Default: 1s.
#filebeat.registry.bbolt.timeout: 1s

# Controls whether fdatasync is called after each write transaction commit.
# When false (the default), writes are buffered by the OS and flushed lazily.
# This is faster but recent writes can be lost on an unclean shutdown (power
# failure, kernel panic). A normal Filebeat shutdown is not affected.
# When true, every write is synced to disk before returning, guaranteeing
# durability at the cost of reduced write throughput. Default: false.
#filebeat.registry.bbolt.fsync: false

# If true, database compaction runs on every start. Compaction rewrites the
# database to reclaim unused disk space. Default: false.
#filebeat.registry.bbolt.compaction.on_start: false

# Maximum number of items processed per transaction during compaction and
# retention cleanup. A value of 0 disables batching, processing all items
# in a single transaction. Default: 65536.
#filebeat.registry.bbolt.compaction.max_transaction_size: 65536

# If true, leftover temporary files from a previous compaction that was
# interrupted (e.g. by a crash) are removed on start. Default: false.
#filebeat.registry.bbolt.compaction.cleanup_on_start: false

# How long entries are kept before being removed. A zero value disables
# TTL-based removal. Expired entries become invisible to reads immediately,
# but are only physically deleted from disk when retention.interval is also
# set to a positive value. Default: 0 (disabled).
#filebeat.registry.bbolt.retention.ttl: 0

# How often to remove expired entries from disk. Only effective when
# retention.ttl is also set to a positive value. A zero value disables
# periodic removal.
# Default: 0 (disabled).
#filebeat.registry.bbolt.retention.interval: 0

# By default Ingest pipelines are not updated if a pipeline with the same ID
# already exists. If this option is enabled Filebeat overwrites pipelines
# every time a new Elasticsearch connection is established.
#filebeat.overwrite_pipelines: false

# How long filebeat waits on shutdown for the publisher to finish.
# Default is 0, not waiting.
#filebeat.shutdown_timeout: 0

# Enable filebeat config reloading
#filebeat.config:
  #inputs:
    #enabled: false
    #path: inputs.d/*.yml
    #reload.enabled: true
    #reload.period: 10s
  #modules:
    #enabled: true
    #path: modules.d/*.yml
    #reload.enabled: true
    #reload.period: 10s
